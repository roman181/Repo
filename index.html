<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RR-COINT | PERMANENT WEALTH TERMINAL</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #fff; font-family: 'JetBrains Mono', monospace; }
        .glass { background: #050505; border: 1px solid #1a1a1a; }
        .neon-green { color: #00ff9d; text-shadow: 0 0 10px rgba(0, 255, 157, 0.4); }
        .save-indicator { font-size: 8px; color: #555; text-transform: uppercase; }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-6xl mx-auto">
        <header class="flex justify-between items-end mb-10 border-b border-zinc-900 pb-6">
            <div>
                <h1 class="text-5xl font-black italic text-green-500">RR-COINT</h1>
                <p class="text-zinc-500 text-xs mt-2">LOCAL STORAGE PERSISTENCE ENABLED</p>
            </div>
            <div class="text-right">
                <p class="text-[10px] text-zinc-500 uppercase">Status</p>
                <p id="save-status" class="save-indicator italic">Daten werden dauerhaft gespeichert...</p>
                <p class="text-xl font-bold mt-1">22:24:00</p>
            </div>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
            <div class="glass p-8 rounded-3xl border-l-8 border-green-600">
                <p class="text-zinc-500 text-xs uppercase mb-2">Gespeicherter Market Cup</p>
                <h2 id="mcap" class="text-4xl font-bold neon-green">€ 1.000,00</h2>
                <button onclick="resetCup()" class="mt-4 text-[9px] text-red-500 border border-red-900 px-2 py-1 rounded hover:bg-red-900 hover:text-white transition">REICHTUM LÖSCHEN (RESET)</button>
            </div>
            
            <div class="glass p-8 rounded-3xl border-orange-500/30">
                <h3 class="text-orange-500 font-bold mb-4 uppercase text-sm italic">₿ BTC SWAP HUB</h3>
                <p class="text-[10px] text-zinc-500 mb-2">Ziel-Adresse: jjfjgghfhfhgfg</p>
                <input type="number" id="btcIn" placeholder="Menge BTC" class="w-full bg-zinc-900 border border-zinc-800 p-3 rounded text-sm mb-4 focus:outline-none focus:border-orange-500" oninput="recalc()">
                <div id="rrOut" class="text-xl font-bold text-white">0 RR-COINT</div>
            </div>
        </div>

        <div class="glass p-8 rounded-3xl h-[400px]">
            <canvas id="persistentChart"></canvas>
        </div>
    </div>

    <script>
        // --- LOGIK FÜR DAUERHAFTE SPEICHERUNG ---
        const storageKey = 'RR_COINT_MCAP';
        const initialCap = 1000.00;
        let cap = parseFloat(localStorage.getItem(storageKey)) || initialCap;

        function saveToStorage() {
            localStorage.setItem(storageKey, cap.toString());
            const status = document.getElementById('save-status');
            status.innerText = "Daten gesichert: " + new Date().toLocaleTimeString();
        }

        function resetCup() {
            if(confirm("Willst du wirklich wieder arm sein?")) {
                cap = initialCap;
                localStorage.setItem(storageKey, cap.toString());
                location.reload();
            }
        }

        // --- CHART & SIMULATION ---
        function recalc() {
            const btcRate = 950000000;
            document.getElementById('rrOut').innerText = (document.getElementById('btcIn').value * btcRate).toLocaleString() + " RR";
        }

        const ctx = document.getElementById('persistentChart').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'line',
            data: { labels: Array(30).fill(''), datasets: [{ data: Array(30).fill(cap), borderColor: '#00ff9d', fill: true, backgroundColor: 'rgba(0,255,157,0.02)', tension: 0.4, pointRadius: 0 }] },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { grid: { color: '#111' } } } }
        });

        setInterval(() => {
            // 80/20 Growth Logik
            Math.random() < 0.8 ? cap += Math.random()*45 : cap -= Math.random()*25;
            
            // UI Update
            document.getElementById('mcap').innerText = '€ ' + cap.toLocaleString('de-DE', {minimumFractionDigits: 2});
            
            // Chart Update
            chart.data.datasets[0].data.push(cap);
            chart.data.datasets[0].data.shift();
            chart.update('none');

            // Dauerhaft speichern
            saveToStorage();
        }, 3000);

        // Initialer Check
        document.getElementById('mcap').innerText = '€ ' + cap.toLocaleString('de-DE', {minimumFractionDigits: 2});
    </script>
</body>
</html>
